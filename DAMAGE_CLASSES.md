# Vehicle Damage Classes and Cost Estimates

## üìã Complete Damage Classification System
**Based on Indian Insurance Industry Standards (2024-2026)**

### Cost Sources:
- IRDAI (Insurance Regulatory and Development Authority) guidelines
- Average authorized service center rates
- Real insurance claim data analysis
- Includes: Parts + Labor + Paint + GST

### All Supported Damage Types (31 Classes)

| ID | Damage Type | Estimated Cost (INR) | Range | Description |
|----|-------------|---------------------|-------|-------------|
| 0 | **unknown** | ‚Çπ0 | - | Unknown or no damage |
| 1 | **head_lamp** | ‚Çπ12,000 | ‚Çπ8K-25K | Headlamp (Halogen: ‚Çπ8K, LED: ‚Çπ12-25K, HID: ‚Çπ15-30K) |
| 2 | **rear_lamp** | ‚Çπ8,000 | ‚Çπ6K-12K | Rear lamp assembly |
| 3 | **tail_lamp** | ‚Çπ10,000 | ‚Çπ6K-15K | Tail lamp damage/crack |
| 4 | **front_bumper_dent** | ‚Çπ20,000 | ‚Çπ15K-30K | Dent in front bumper (plastic repair + paint) |
| 5 | **rear_bumper_dent** | ‚Çπ18,000 | ‚Çπ12K-25K | Dent in rear bumper |
| 6 | **front_bumper_scratch** | ‚Çπ8,000 | ‚Çπ5K-12K | Scratch on front bumper (buffing + touch-up) |
| 7 | **rear_bumper_scratch** | ‚Çπ6,000 | ‚Çπ4K-10K | Scratch on rear bumper |
| 8 | **door_dent** | ‚Çπ25,000 | ‚Çπ15K-35K | Dent in door panel (panel beating + repainting) |
| 9 | **door_scratch** | ‚Çπ12,000 | ‚Çπ8K-18K | Scratch on door (depth dependent) |
| 10 | **hood_dent** | ‚Çπ28,000 | ‚Çπ20K-40K | Dent in hood/bonnet (large panel, complex) |
| 11 | **hood_scratch** | ‚Çπ15,000 | ‚Çπ10K-20K | Scratch on hood |
| 12 | **trunk_dent** | ‚Çπ22,000 | ‚Çπ15K-30K | Dent in trunk/boot |
| 13 | **trunk_scratch** | ‚Çπ12,000 | ‚Çπ8K-15K | Scratch on trunk |
| 14 | **fender_dent** | ‚Çπ18,000 | ‚Çπ12K-25K | Dent in fender/wing |
| 15 | **fender_scratch** | ‚Çπ10,000 | ‚Çπ6K-15K | Scratch on fender |
| 16 | **windshield_crack** | ‚Çπ18,000 | ‚Çπ12K-25K | Crack in windshield (repair/replace) |
| 17 | **windshield_shatter** | ‚Çπ35,000 | ‚Çπ25K-50K | Shattered windshield (full replacement + sensors) |
| 18 | **side_window_crack** | ‚Çπ8,000 | ‚Çπ5K-12K | Side window crack |
| 19 | **side_window_shatter** | ‚Çπ12,000 | ‚Çπ8K-18K | Shattered side window (tempered glass) |
| 20 | **rear_window_crack** | ‚Çπ15,000 | ‚Çπ10K-20K | Rear window crack |
| 21 | **rear_window_shatter** | ‚Çπ20,000 | ‚Çπ15K-30K | Shattered rear window (larger size + defroster) |
| 22 | **side_mirror_crack** | ‚Çπ4,000 | ‚Çπ3K-6K | Side mirror crack (glass only) |
| 23 | **side_mirror_broken** | ‚Çπ12,000 | ‚Çπ8K-18K | Broken side mirror (full unit + motors/sensors) |
| 24 | **wheel_rim_scratch** | ‚Çπ6,000 | ‚Çπ4K-10K | Scratch on wheel rim (refinishing) |
| 25 | **wheel_rim_bent** | ‚Çπ15,000 | ‚Çπ10K-22K | Bent wheel rim (repair or replace) |
| 26 | **tire_damage** | ‚Çπ10,000 | ‚Çπ5K-15K | Tire damage (type dependent) |
| 27 | **paint_peel** | ‚Çπ25,000 | ‚Çπ15K-40K | Paint peeling (full panel repaint) |
| 28 | **rust_damage** | ‚Çπ35,000 | ‚Çπ20K-60K | Rust damage (extensive work + welding) |
| 29 | **panel_misalignment** | ‚Çπ30,000 | ‚Çπ20K-45K | Panel misalignment (structural work) |
| 30 | **grille_damage** | ‚Çπ15,000 | ‚Çπ8K-25K | Grille damage (model dependent) |

## üí∞ Cost Categories

### Low Cost (‚Çπ4,000 - ‚Çπ10,000)
**Minor repairs, cosmetic damage**
- Side mirror crack (‚Çπ4K)
- Rear bumper scratch (‚Çπ6K)
- Wheel rim scratch (‚Çπ6K)
- Front/Rear lamp (‚Çπ8K-10K)
- Side window crack (‚Çπ8K)
- Tire damage (‚Çπ10K)
- Fender scratch (‚Çπ10K)

### Medium Cost (‚Çπ12,000 - ‚Çπ20,000)
**Moderate repairs, panel work**
- Head lamp LED (‚Çπ12K)
- Door scratch (‚Çπ12K)
- Side mirror broken (‚Çπ12K)
- Side/Rear window shatter (‚Çπ12K-20K)
- Hood scratch (‚Çπ15K)
- Trunk scratch/Rear window crack (‚Çπ12K-15K)
- Grille damage (‚Çπ15K)
- Wheel rim bent (‚Çπ15K)
- Rear bumper dent (‚Çπ18K)
- Windshield crack (‚Çπ18K)
- Front bumper dent/Fender dent (‚Çπ18K-20K)

### High Cost (‚Çπ22,000 - ‚Çπ35,000)
**Major repairs, structural work**
- Trunk dent (‚Çπ22K)
- Door dent (‚Çπ25K)
- Paint peel (‚Çπ25K)
- Hood dent (‚Çπ28K)
- Panel misalignment (‚Çπ30K)
- Windshield shatter (‚Çπ35K)
- Rust damage (‚Çπ35K)

### Insurance Coverage Notes:
- **Own Damage (OD)** insurance covers most damages above
- **Zero Depreciation** covers full cost without parts depreciation
- **Deductible** typically ‚Çπ1,000-5,000 applied
- **Glass cover** add-on recommended for windshield claims
- **Consumables** cover includes paint, nuts, bolts (extra premium)

## üé® Visual Color Coding

Each damage type has a unique color for bounding box visualization:

- **Lamps**: Red shades
- **Bumpers**: Blue shades
- **Doors**: Green shades
- **Hood/Trunk**: Yellow/Gold shades
- **Fenders**: Magenta shades
- **Windows**: Purple/Pink shades
- **Mirrors**: Orange shades
- **Wheels**: Lime/Dark gray shades
- **Paint/Rust**: Brown/Rust shades
- **Grille/Panels**: Cyan/Light red

## üîß How to Retrain with New Classes

### Option 1: Update Existing Dataset

1. Open `datasets/data.csv`
2. Update the `classes` column with new damage type names
3. Ensure class names match the `class_mapping` in `train.py`
4. Run training:
   ```bash
   python train.py
   ```

### Option 2: Add Custom Classes

1. Edit `train.py` - Update `class_mapping`:
   ```python
   class_mapping = {
       'your_custom_damage': 31,
       # Add more...
   }
   ```

2. Update `cost_mapping`:
   ```python
   cost_mapping = {
       31: 15000,  # your_custom_damage cost
       # Add more...
   }
   ```

3. Update `model_inference.py` - Add colors:
   ```python
   self.damage_colors = {
       'your_custom_damage': (R, G, B),
       # Add more...
   }
   ```

4. Retrain the model:
   ```bash
   python train.py
   ```

## üìä Current Model Status

Your current model was trained with **8 classes**:
- unknown
- head_lamp
- door_scratch
- glass_shatter
- tail_lamp
- bumper_dent
- door_dent
- bumper_scratch

### To Use All 31 Classes:

1. **Update your dataset** (`datasets/data.csv`) to include all damage types
2. **Retrain the model** using the updated `train.py`
3. The system will automatically recognize all 31 classes after retraining

## üöÄ Quick Fix for Current Issue

Your model is showing "unknown" because:

1. ‚úÖ **FIXED**: Changed ResNet50 ‚Üí ResNet18 (matches your trained model)
2. ‚ö†Ô∏è **Current**: Model has only 8 classes
3. üí° **Solution**: Either:
   - Retrain with all 31 classes (recommended)
   - Or use the existing 8 classes

### To use existing 8 classes immediately:

The system will now work correctly with your current model. Upload vehicle damage images and it will classify them into one of the 8 trained categories.

### To get all 31 classes:

```bash
# 1. Prepare dataset with all damage types
# 2. Run training
python train.py

# 3. Restart the server
python app.py
```

## üìù Notes

- **Cost estimates** are in Indian Rupees (INR/‚Çπ)
- Costs are approximate and vary by:
  - Vehicle make and model
  - Location
  - Labor rates
  - Parts availability
- **YOLO detection** works independently for bounding boxes
- **ResNet classification** provides damage type and cost

---

**Current Status**: Model architecture fixed to ResNet18. System ready to use with 8 classes or retrain for 31 classes.
